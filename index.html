<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-qt文件路径相关操作" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/20/qt%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/" class="article-date">
  <time class="dt-published" datetime="2023-10-20T12:16:45.147Z" itemprop="datePublished">2023-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="QT-文件路径相关操作"><a href="#QT-文件路径相关操作" class="headerlink" title="QT 文件路径相关操作"></a>QT 文件路径相关操作</h1><h2 id="判断文件-文件夹是否存在"><a href="#判断文件-文件夹是否存在" class="headerlink" title="判断文件&#x2F;文件夹是否存在"></a>判断文件&#x2F;文件夹是否存在</h2><ol>
<li><p>文件</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QFileInfo <span class="title">info</span><span class="params">(path)</span></span>;</span><br><span class="line">info.<span class="built_in">isFile</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>文件夹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QDir <span class="title">dir</span><span class="params">(path)</span></span>;</span><br><span class="line">dir.<span class="built_in">exists</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>不在乎文件还是文件夹</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QFileInfo <span class="title">info</span><span class="params">(path)</span></span>;</span><br><span class="line">info.<span class="built_in">exists</span>();</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="文件相关信息"><a href="#文件相关信息" class="headerlink" title="文件相关信息"></a>文件相关信息</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QFileInfo <span class="title">info</span><span class="params">(path)</span></span>;</span><br><span class="line">info.<span class="built_in">fileName</span>();</span><br><span class="line"><span class="comment">// 去掉后缀名</span></span><br><span class="line">info.<span class="built_in">baseName</span>();</span><br><span class="line"><span class="comment">// 所在绝对路径</span></span><br><span class="line">info.<span class="built_in">absolutePath</span>();</span><br></pre></td></tr></table></figure>

<h2 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QDir <span class="title">dir</span><span class="params">(path)</span></span>;</span><br><span class="line">dir.<span class="built_in">mkdir</span>(newPath);</span><br></pre></td></tr></table></figure>

<h2 id="当前路径"><a href="#当前路径" class="headerlink" title="当前路径"></a>当前路径</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .exe所在的路径</span></span><br><span class="line">QDir::<span class="built_in">currentPath</span>();</span><br></pre></td></tr></table></figure>

<h2 id="打开对话框选择文件"><a href="#打开对话框选择文件" class="headerlink" title="打开对话框选择文件"></a>打开对话框选择文件</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// @params</span></span><br><span class="line"><span class="comment">// parent, caption, initial path, file types</span></span><br><span class="line">QString path = QFileDialog::<span class="built_in">getOpenFileName</span>(<span class="literal">nullptr</span>, <span class="string">&quot;open a file&quot;</span>, QDir::<span class="built_in">currentPath</span>(), <span class="string">&quot;ObjectFile(*.obj)&quot;</span>);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/20/qt%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/" data-id="clnyl5iyv0003fkuradj0hij7" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-多线程的性能" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%80%A7%E8%83%BD/" class="article-date">
  <time class="dt-published" datetime="2023-10-20T12:16:45.147Z" itemprop="datePublished">2023-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="CPU-缓存、Cache-Miss与伪共享"><a href="#CPU-缓存、Cache-Miss与伪共享" class="headerlink" title="CPU 缓存、Cache Miss与伪共享"></a>CPU 缓存、Cache Miss与伪共享</h1><h2 id="CPU-Cache"><a href="#CPU-Cache" class="headerlink" title="CPU Cache"></a>CPU Cache</h2><p>CPU有L1、L2等多级缓存，相较于CPU的运算速度来说，内存过于缓慢。<br>因此，一些数据会被提前加载进CPU Cache里，以提高运算速度。</p>
<h2 id="Cache-Line"><a href="#Cache-Line" class="headerlink" title="Cache Line"></a>Cache Line</h2><p>缓存加载数据是以某个单元为单位的，称为缓存行(Cache Line)，每个缓存行一般大小为32Bytes、64Bytes等。</p>
<p>由于所需数据并不一定等于缓存行大小，因此一些(可能被其他线程使用的)数据也会被加载进该线程的缓存中，<br>或是所需数据存在于多个缓存行中。</p>
<h2 id="Cache-Miss"><a href="#Cache-Miss" class="headerlink" title="Cache Miss"></a>Cache Miss</h2><p>CPU 会优先从Cache中读取数据，若Cache中没有对应数据，则需要从内存中读取，这种现象叫Cache Miss。</p>
<p>Cache Miss导致从内存中读数据，是一个消耗较大的操作。</p>
<h2 id="伪共享-False-Sharing"><a href="#伪共享-False-Sharing" class="headerlink" title="伪共享 False Sharing"></a>伪共享 False Sharing</h2><p>由于一个线程的缓存中可能同时存在其他线程使用的数据，当线程A修改自己的数据时，会导致缓存失效。</p>
<p>其他线程的存在线程A修改的数据的缓存行也会失效，缓存一致性强制其<br>必须重新从内存中获取缓存行。</p>
<p>这种线程间实际上没有共享数据，但由于缓存共享特定数据的存在导致的问题叫做伪共享。</p>
<h2 id="性能改进的方法"><a href="#性能改进的方法" class="headerlink" title="性能改进的方法"></a>性能改进的方法</h2><ul>
<li>同一线程所使用的数据应紧密排列，使Cache中的有效数据尽可能多</li>
<li>不同线程使用的数据应分隔开，防止伪共享现象</li>
</ul>
<h2 id="C-相关信息"><a href="#C-相关信息" class="headerlink" title="C++ 相关信息"></a>C++ 相关信息</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据间隔大于此数，则不会出现伪共享现象</span></span><br><span class="line"><span class="comment">// 实际上使不同线程使用的数据不在一个缓存行上</span></span><br><span class="line">std::hardware_destructive_interference_size</span><br><span class="line"><span class="comment">// 数据大小小于此数，则可被加载进同一缓存行中，减少Cache Miss</span></span><br><span class="line">std::hardware_constructive_interference_size</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%80%A7%E8%83%BD/" data-id="clnyl5iyw0004fkur0fvlaqur" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C++继承与多态中的函数虚表" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/20/C++%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%9A%E6%80%81%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0%E8%99%9A%E8%A1%A8/" class="article-date">
  <time class="dt-published" datetime="2023-10-20T12:16:45.132Z" itemprop="datePublished">2023-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="C-继承"><a href="#C-继承" class="headerlink" title="C++ 继承"></a>C++ 继承</h1><blockquote>
<p>参考 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_62718027/article/details/125922249">链接</a></p>
</blockquote>
<ol>
<li>子类构造时会自动调用基类的构造函数</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Base</span>(string name);</span><br><span class="line">    string name;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Derived</span>(<span class="type">unsigned</span> <span class="type">int</span> age);</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">printAge</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Derived d;</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Base Constructor Called!</span><br><span class="line">Derived Constructor Called!</span><br><span class="line"></span><br><span class="line">~Derived Called!</span><br><span class="line">~Base Called! </span><br></pre></td></tr></table></figure>



<ol start="2">
<li>子类和基类有同名变量或函数时，构成隐藏</li>
</ol>
<blockquote>
<p>同名函数不区分参数列表</p>
<p>默认调用子类同名成员</p>
<p>基类成员可通过域名解析符号，如Base::name获得</p>
</blockquote>
<ol start="3">
<li>多态的实现依赖于虚函数</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/136478734">参考</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Base print&quot;</span>&lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Derived print&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Derived* d = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">Base* b = d;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Derived print&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 若Base类不使用virtual，则输出为&quot;Base print&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>实现原理</strong><br>基类和派生类中隐含一个虚函数表，存储所有虚函数的地址</p>
<p><code>Base* b = new Base()</code>中b指向Base()自己的虚函数表</p>
<p><code>Base* b = new Derived()</code>中b指向Derived()的函数虚表</p>
<p>反之，若<code>Derived* d = new Base(); d-&gt;print();</code>，则d调用的是Base()的虚函数。若d调用了Derived()类中多出来的函数，则由于d在函数虚表中找不到该函数而程序崩溃。</p>
<ol start="4">
<li>虚析构函数</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设Base类的析构函数非虚</span></span><br><span class="line">Base* b = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line"><span class="comment">// 可能发生内存泄漏</span></span><br><span class="line"><span class="keyword">delete</span> b;</span><br></pre></td></tr></table></figure>

<p>由于delete的是Base类的指针，因此程序只会调用Base()的析构函数，处理Base类中定义的资源释放，若Derived类申请了额外的资源，则发生内存泄漏。</p>
<p>对于这种情况，需要将Base类的析构函数设定为虚函数，delete时才可调用Derived的析构函数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/20/C++%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%9A%E6%80%81%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0%E8%99%9A%E8%A1%A8/" data-id="clnyl5iyp0000fkurfa7x1zr9" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-mongodb配置及使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/20/mongodb%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2023-10-20T12:16:45.132Z" itemprop="datePublished">2023-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="MongoDB-配置与-C-Driver使用"><a href="#MongoDB-配置与-C-Driver使用" class="headerlink" title="MongoDB 配置与 C++ Driver使用"></a>MongoDB 配置与 C++ Driver使用</h1><h2 id="MongoDB-配置方法"><a href="#MongoDB-配置方法" class="headerlink" title="MongoDB 配置方法"></a>MongoDB 配置方法</h2><p>可从网上查找</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_52855464/article/details/129227091">MongoDB安装</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42039228/article/details/123657641">安装2</a></p>
<h2 id="C-Driver-MongoCXX"><a href="#C-Driver-MongoCXX" class="headerlink" title="C++ Driver MongoCXX"></a>C++ Driver MongoCXX</h2><p>MongoDB 的C++驱动可使用 MongoCXX</p>
<h3 id="MongoCXX-编译"><a href="#MongoCXX-编译" class="headerlink" title="MongoCXX 编译"></a>MongoCXX 编译</h3><p>MongoCXX 需要自己编译，且<strong>依赖于boost库</strong>，因此需要提前编译boost</p>
<blockquote>
<p>boost的编译方法很简单，只需从<a target="_blank" rel="noopener" href="https://boostorg.jfrog.io/artifactory/main/release/">boost官网</a>下载最新版压缩包解压，先执行bootstrap.bat，生成并运行b2.exe即可自动编译。编译结果应该包含动态库和静态库，可自行使用。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_23604781/article/details/129041627">MongoCXX 编译以及QT连接</a></p>
<h3 id="MongoCXX-使用方法"><a href="#MongoCXX-使用方法" class="headerlink" title="MongoCXX 使用方法"></a>MongoCXX 使用方法</h3><h4 id="MongoCXX介绍"><a href="#MongoCXX介绍" class="headerlink" title="MongoCXX介绍"></a>MongoCXX介绍</h4><p>MongoCXX主要使用两个namespace，mongocxx和bsoncxx。</p>
<ul>
<li>mongocxx 管理有关数据库相关程序。如数据库的连接、增删改查等。</li>
<li>bsoncxx 管理MongoDB文档相关程序。数据库的插入、查询等都需要以文档为基础。</li>
</ul>
<p>MongCXX 需要C++17标准</p>
<h4 id="连接MongoDB数据库"><a href="#连接MongoDB数据库" class="headerlink" title="连接MongoDB数据库"></a>连接MongoDB数据库</h4><ol>
<li>创建连接</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">connectToHost</span><span class="params">(QString m_hostName, QString m_port)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(m_hostName==<span class="string">&quot;&quot;</span> || m_port==<span class="string">&quot;&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    mongocxx::instance* m_dbInstance = <span class="literal">nullptr</span>;</span><br><span class="line">    mongocxx::client* m_client = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    mongocxx::uri uri&#123; <span class="built_in">QString</span>(<span class="string">&quot;mongodb://%1:%2&quot;</span>).<span class="built_in">arg</span>(m_hostName).<span class="built_in">arg</span>(m_port).<span class="built_in">toLatin1</span>().<span class="built_in">data</span>()&#125;;</span><br><span class="line">    m_dbInstance = <span class="built_in">new</span>(std::nothrow) mongocxx::<span class="built_in">instance</span>();</span><br><span class="line">    m_client = <span class="built_in">new</span>(std::nothrow) mongocxx::<span class="built_in">client</span>(uri);</span><br><span class="line">    <span class="built_in">qDebug</span>() &lt;&lt; <span class="string">&quot;连接成功!&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，程序运行期间<strong>只可拥有一个 instance</strong>，不可再次new mongocxx::instance()。</p>
</blockquote>
<ol>
<li>使用具体的数据库和集合：</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mongocxx::database db = m_client-&gt;<span class="built_in">database</span>(dbName.<span class="built_in">c_str</span>());</span><br><span class="line">mongocxx::collection collection = db[collName.<span class="built_in">c_str</span>()];</span><br></pre></td></tr></table></figure>

<blockquote>
<p>MongoCXX有关字符串的部分，最好使用C-Style字符串，即<code>std::string().c_str()</code>。</p>
<p>并且MongoCXX <strong>只接受UTF-8编码</strong>的字符串，否则会出现 <em>Invalid Bson UTF-8 string</em>的问题。</p>
</blockquote>
<h4 id="BSON文档构建"><a href="#BSON文档构建" class="headerlink" title="BSON文档构建"></a>BSON文档构建</h4><p>Mongocxx的各类操作要使用文档作为条件。<br>构建文档的方法主要由两种：<code>bsoncxx::builder::stream</code> 和 <code>bsoncxx::builder::basic</code>.</p>
<p>官方推荐使用basic方法构建文档，更加简单直观。<br><a target="_blank" rel="noopener" href="https://mongocxx.org/mongocxx-v3/tutorial/">官方示例教程</a></p>
<p>basic构建文档的方法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">构建如下文档</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">   &quot;name&quot; : &quot;MongoDB&quot;,</span></span><br><span class="line"><span class="comment">   &quot;type&quot; : &quot;database&quot;,</span></span><br><span class="line"><span class="comment">   &quot;count&quot; : 1,</span></span><br><span class="line"><span class="comment">   &quot;versions&quot;: [ &quot;v6.0&quot;, &quot;v5.0&quot;, &quot;v4.4&quot;, &quot;v4.2&quot;, &quot;v4.0&quot;, &quot;v3.6&quot; ],</span></span><br><span class="line"><span class="comment">   &quot;info&quot; : &#123;</span></span><br><span class="line"><span class="comment">               &quot;x&quot; : 203,</span></span><br><span class="line"><span class="comment">               &quot;y&quot; : 102</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> doc_value = <span class="built_in">make_document</span>(</span><br><span class="line">    <span class="built_in">kvp</span>(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;MongoDB&quot;</span>),</span><br><span class="line">    <span class="built_in">kvp</span>(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;database&quot;</span>),</span><br><span class="line">    <span class="built_in">kvp</span>(<span class="string">&quot;count&quot;</span>, <span class="number">1</span>),</span><br><span class="line">    <span class="built_in">kvp</span>(<span class="string">&quot;versions&quot;</span>, <span class="built_in">make_array</span>(<span class="string">&quot;v6.0&quot;</span>, <span class="string">&quot;v5.0&quot;</span>, <span class="string">&quot;v4.4&quot;</span>, <span class="string">&quot;v4.2&quot;</span>, <span class="string">&quot;v4.0&quot;</span>, <span class="string">&quot;v3.6&quot;</span>)),</span><br><span class="line">    <span class="built_in">kvp</span>(<span class="string">&quot;info&quot;</span>, <span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;x&quot;</span>, <span class="number">203</span>), <span class="built_in">kvp</span>(<span class="string">&quot;y&quot;</span>, <span class="number">102</span>))));</span><br></pre></td></tr></table></figure>

<p>动态构建文档：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    filename: &quot;...&quot;,</span></span><br><span class="line"><span class="comment">    contains: [</span></span><br><span class="line"><span class="comment">        ...</span></span><br><span class="line"><span class="comment">    ],</span></span><br><span class="line"><span class="comment">    sub_doc: &#123;</span></span><br><span class="line"><span class="comment">        ...</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="keyword">auto</span> doc = bsoncxx::builder::basic::document&#123;&#125;;</span><br><span class="line">    <span class="keyword">auto</span> arr = bsoncxx::builder::basic::array&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    doc.<span class="built_in">append</span>(<span class="built_in">kvp</span>(<span class="string">&quot;filename&quot;</span>, filename.<span class="built_in">c_str</span>()));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; f : releatedFiles) &#123;</span><br><span class="line">        arr.<span class="built_in">append</span>(name.<span class="built_in">c_str</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    doc.<span class="built_in">append</span>(<span class="built_in">kvp</span>(<span class="string">&quot;contains&quot;</span>, arr));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> sub_doc = bsoncxx::builder::basic::document&#123;&#125;;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        构建sub_doc，与doc同理</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   doc.<span class="built_in">append</span>(<span class="built_in">kvp</span>(<span class="string">&quot;sub_doc&quot;</span>, sub_doc));</span><br></pre></td></tr></table></figure>

<h4 id="查询操作"><a href="#查询操作" class="headerlink" title="查询操作"></a>查询操作</h4><ol>
<li>查询单个，使用<strong>find_one</strong></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> fileMeta = collection.<span class="built_in">find_one</span>(<span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;filename&quot;</span>, filename.<span class="built_in">c_str</span>())));</span><br><span class="line"><span class="comment">// 判断是否找到</span></span><br><span class="line"><span class="keyword">if</span>(fileMeta)&#123;</span><br><span class="line">    <span class="keyword">auto</span> ele1 = (*fileMeta).<span class="built_in">find</span>(<span class="string">&quot;contains&quot;</span>);</span><br><span class="line">    <span class="keyword">auto</span> contains = ele1-&gt;<span class="built_in">get_array</span>().value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 std::distance获得array大小</span></span><br><span class="line">    <span class="type">size_t</span> size = std::<span class="built_in">distance</span>(names.<span class="built_in">begin</span>(), names.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        <span class="keyword">auto</span> val = contains[i].<span class="built_in">get_string</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>查询多个，使用<strong>find</strong></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> cursor_all = collection.<span class="built_in">find</span>(&#123;&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> doc : cursor_all) &#123;</span><br><span class="line">    <span class="comment">// Do something with doc</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="插入操作"><a href="#插入操作" class="headerlink" title="插入操作"></a>插入操作</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> result = collection.<span class="built_in">insert_one</span>(doc_view_or_doc_val);</span><br></pre></td></tr></table></figure>

<h4 id="更新操作"><a href="#更新操作" class="headerlink" title="更新操作"></a>更新操作</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 官网示例</span></span><br><span class="line"><span class="keyword">auto</span> update_one_result = collection.<span class="built_in">update_one</span>(<span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;i&quot;</span>, <span class="number">0</span>)),</span><br><span class="line">                                <span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;$set&quot;</span>, <span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>)))));</span><br></pre></td></tr></table></figure>

<h4 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 官网示例</span></span><br><span class="line"><span class="keyword">auto</span> delete_one_result = collection.<span class="built_in">delete_one</span>(<span class="built_in">make_document</span>(<span class="built_in">kvp</span>(<span class="string">&quot;i&quot;</span>, <span class="number">0</span>)));</span><br></pre></td></tr></table></figure>

<h3 id="使用MongoDB-GridFS"><a href="#使用MongoDB-GridFS" class="headerlink" title="使用MongoDB GridFS"></a>使用MongoDB GridFS</h3><p>MongoDB中，集合内的单个文档大小不超过16M，所以储存大文件最好使用GridFS。</p>
<p>GridFS下，文件将被存在一个bucket中。在MongoDB中显示为fs.files和fs.chunks两个集合。fs.files集合存储每个文件的元数据，如文件名；fs.chunks分块存储文件数据。</p>
<h4 id="gridfs-上传文件"><a href="#gridfs-上传文件" class="headerlink" title="gridfs 上传文件"></a>gridfs 上传文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">mongocxx::database db = m_client-&gt;<span class="built_in">database</span>(dbName.<span class="built_in">c_str</span>());</span><br><span class="line">mongocxx::collection collection = db[collName.<span class="built_in">c_str</span>()];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获得文件名</span></span><br><span class="line"><span class="function">QFileInfo <span class="title">fileInfo</span><span class="params">(filePath)</span></span>;</span><br><span class="line">QString fileName = fileInfo.<span class="built_in">fileName</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取指定数据库的bucket</span></span><br><span class="line">mongocxx::gridfs::bucket bucket = db.<span class="built_in">gridfs_bucket</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// MongoDB 只接受UTF-8的字符串</span></span><br><span class="line">std::string name = std::<span class="built_in">string</span>(fileName.<span class="built_in">toUtf8</span>());</span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* fname = name.<span class="built_in">c_str</span>();</span><br><span class="line">mongocxx::gridfs::uploader up = bucket.<span class="built_in">open_upload_stream</span>(fname);</span><br><span class="line"></span><br><span class="line">std::ifstream fp;</span><br><span class="line"><span class="comment">// QString 含中文 转为 std::string</span></span><br><span class="line"><span class="function">std::string <span class="title">stdPath</span><span class="params">(filePath.toLocal8Bit())</span></span>;</span><br><span class="line">fp.<span class="built_in">open</span>(stdPath, std::ios::binary | std::ios::in);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动文件指针到末尾</span></span><br><span class="line">fp.<span class="built_in">seekg</span>(<span class="number">0</span>, fp.end);</span><br><span class="line"><span class="type">size_t</span> allLength = fp.<span class="built_in">tellg</span>();</span><br><span class="line"></span><br><span class="line">fp.<span class="built_in">seekg</span>(<span class="number">0</span>, fp.beg);</span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* buff = <span class="keyword">new</span> <span class="type">char</span>[allLength + <span class="number">10</span>]&#123; <span class="number">0</span> &#125;;</span><br><span class="line">fp.<span class="built_in">read</span>(buff, allLength);</span><br><span class="line">fp.<span class="built_in">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将char*转为const unsigned char*</span></span><br><span class="line">up.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">const</span> <span class="type">unsigned</span> <span class="type">char</span>*&gt;(<span class="built_in">const_cast</span>&lt;constchar*&gt;(buff)), allLength);</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> result = up.<span class="built_in">close</span>();</span><br><span class="line"><span class="keyword">delete</span>[] buff;</span><br><span class="line">buff = <span class="literal">nullptr</span>;</span><br></pre></td></tr></table></figure>

<h4 id="gridfs下载文件"><a href="#gridfs下载文件" class="headerlink" title="gridfs下载文件"></a>gridfs下载文件</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mongocxx::gridfs::bucket bucket = db.<span class="built_in">gridfs_bucket</span>();</span><br><span class="line">mongocxx::collection fsColl = db[<span class="string">&quot;fs.files&quot;</span>];</span><br><span class="line"><span class="keyword">auto</span> fileMeta = fsColl.<span class="built_in">find_on</span>(bsoncxx::builder::stream::document&#123;&#125;&lt;&lt;<span class="string">&quot;filename&quot;</span>&lt;&lt;std::<span class="built_in">strin</span>(fileName.<span class="built_in">toUtf8</span>()).<span class="built_in">c_str</span>()&lt;&lt;bsoncxx::builder::stream::finalize);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断文件是否存在</span></span><br><span class="line"><span class="keyword">if</span>(fileMeta)&#123;</span><br><span class="line">    <span class="comment">// 获得目标文件的ID</span></span><br><span class="line">    <span class="keyword">auto</span> idEle = (*fileMeta).<span class="built_in">find</span>(<span class="string">&quot;_id&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> downloader = bucket.<span class="built_in">open_download_stream</span>(idEle-&gt;<span class="built_in">get_value</span>());</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> file_length = downloader.<span class="built_in">file_length</span>();</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> bytes_counter = <span class="number">0</span>;</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> buffer_size = std::<span class="built_in">min</span>(file_length, <span class="built_in">static_cast</span>&lt;<span class="type">long</span> <span class="type">long</span>&gt;(downloader.<span class="built_in">chunk_size</span>()));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// make_uniques&lt;any[]&gt;(size) 当类型为数组类型时，size指的是数组的大小</span></span><br><span class="line">    std::unique_ptr&lt;std::<span class="type">uint8_t</span>[]&gt; buffer = std::<span class="built_in">make_unique</span>&lt;std::<span class="type">uint8_t</span>[]&gt;(<span class="built_in">static_cast</span>&lt;std::<span class="type">size_t</span>&gt;(buffer_size));</span><br><span class="line"></span><br><span class="line">    std::fstream fq;</span><br><span class="line">    QString workPath = QDir::<span class="built_in">currentPath</span>();</span><br><span class="line">    <span class="comment">// directory == &quot;*/&quot;</span></span><br><span class="line">    QString path = directory + fileName;</span><br><span class="line"></span><br><span class="line">    fq.<span class="built_in">open</span>(std::<span class="built_in">string</span>(path.<span class="built_in">toLocal8Bit</span>()), std::ios::binary | std::ios::out);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(<span class="keyword">auto</span> length_read = downloader.<span class="built_in">read</span>(buffer.<span class="built_in">get</span>(), <span class="built_in">static_cast</span>&lt;std::<span class="type">size_t</span>&gt;(buffer_size)))</span><br><span class="line">    &#123;</span><br><span class="line">        bytes_counter += <span class="built_in">static_cast</span>&lt;std::<span class="type">int32_t</span>&gt;(length_read);</span><br><span class="line">        fq.<span class="built_in">write</span>(<span class="built_in">reinterpret_cast</span>&lt;<span class="type">char</span>*&gt;(<span class="built_in">const_cast</span>&lt;<span class="type">uint8_t</span>*&gt;(buffer.<span class="built_in">get</span>())), length_read);</span><br><span class="line">    &#125;</span><br><span class="line">    fq.<span class="built_in">close</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>MongoCXX有几个需要注意的地方：</p>
<ul>
<li>最好使用C风格字符串</li>
<li>string一定要采用UTF-8编码</li>
</ul>
<h2 id="QT环境下QString的相关问题"><a href="#QT环境下QString的相关问题" class="headerlink" title="QT环境下QString的相关问题"></a>QT环境下QString的相关问题</h2><p>QString转为std::string请使用：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转为本地默认编码</span></span><br><span class="line">std::string stdstr = std::<span class="built_in">string</span>(qstr.<span class="built_in">toLocal8Bit</span>());</span><br></pre></td></tr></table></figure>

<p>QString转为UTF-8编码的std::string:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::string utf8str = std::<span class="built_in">string</span>(qstr.<span class="built_in">toUtf8</span>());</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/20/mongodb%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/" data-id="clnyl5iyt0001fkur9nvvedj0" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/10/20/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-10-20T11:54:54.550Z" itemprop="datePublished">2023-10-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/10/20/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/10/20/hello-world/" data-id="clnyl5iyu0002fkur5wf620he" data-title="Hello World" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/10/20/qt%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/10/20/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%80%A7%E8%83%BD/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/10/20/C++%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%9A%E6%80%81%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0%E8%99%9A%E8%A1%A8/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/10/20/mongodb%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/10/20/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>